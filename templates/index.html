{% extends "base.html" %}

{% block content %}
  <div class="loading-line"></div>
  <div
    hx-get="/blocks"
    hx-swap="innerHTML"
    hx-trigger="load, every 10s"
    x-data="{
      disabled: false,
      observer: null,
      init() {
        this.observer = new MutationObserver(() => {
          this.disabled = document.querySelector('#block-form') !== null;
        });
        this.observer.observe(document.body, { childList: true, subtree: true });
      },
    }"
    ></div>
{% endblock %}
